<form nz-form nzLayout="vertical" [formGroup]="contactInfoForm" (ngSubmit)="submitForm()">
    <div class="grid-container">
       <nz-form-item>
        <nz-form-label class="label" nzFor="phone1TypeId">Τηλέφωνο 1:</nz-form-label>
        <nz-form-control>
            <div class="radio-container">
                <nz-radio-group 
                    id="phone1TypeId" 
                    nzButtonStyle="solid"
                    formControlName="phone1TypeId"
                >
                    @for (phoneType of phoneTypes; track phoneType.id) {
                        <label class="button" nz-radio-button [nzValue]="phoneType.id">{{ phoneType.name }}</label>                
                    }
                </nz-radio-group>

                @if (contactInfoForm.get('phone1TypeId')?.value === 4) {
                    <input
                        class="inputs"
                        nz-input
                        id="phone1Label" 
                        type="text" 
                        formControlName="phone1Label"
                    />
                }

                @if (contactInfoForm.get('phone1TypeId')?.value === 2) {
                    <input 
                        class="inputs" 
                        nz-input 
                        id="phone1" 
                        [maskito]="phone2Mask"
                        type="text" 
                        [class.error]="contactInfoForm.get('phone1')?.invalid"
                        formControlName="phone1"
                    />                                            
                } @else {
                    <input 
                        class="inputs" 
                        nz-input 
                        [maskito]="phoneMask"
                        id="phone1" 
                        type="text" 
                        [class.error]="contactInfoForm.get('phone1')?.invalid"
                        formControlName="phone1"
                    />                                            
                }         
                @if (
                    contactInfoForm.get('phone1')?.errors?.['minlength'] || 
                    contactInfoForm.get('phone1')?.errors?.['maxlength']
                ) {
                    <em>The phone number has to be 10 digits long</em>
                }   
            </div>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label class="label" nzFor="phone2TypeId">Τηλέφωνο 2:</nz-form-label>
        <nz-form-control>
            <div class="radio-container">
                <nz-radio-group 
                    id="phone2TypeId" 
                    nzButtonStyle="solid"
                    formControlName="phone2TypeId"
                >
                    @for(phoneType of phoneTypes; track phoneType.id) {
                        <label class="button" nz-radio-button [nzValue]="phoneType.id">{{ phoneType.name }}</label>                
                    }
                </nz-radio-group>

                @if (contactInfoForm.get('phone2TypeId')?.value === 4) {
                    <input
                        class="inputs"
                        nz-input
                        id="phone2Label" 
                        type="text" 
                        formControlName="phone2Label" 
                    />
                }
                @if (contactInfoForm.get('phone2TypeId')?.value === 2) {
                    <input 
                        class="inputs" 
                        nz-input 
                        id="phone2" 
                        [maskito]="phone2Mask"
                        type="text"
                        [class.error]="contactInfoForm.get('phone2')?.invalid" 
                        formControlName="phone2"
                    />                                            
                } @else {
                    <input 
                        class="inputs" 
                        nz-input 
                        id="phone2" 
                        [maskito]="phoneMask"
                        type="text" 
                        [class.error]="contactInfoForm.get('phone2')?.invalid"
                        formControlName="phone2"
                    />                                            
                }
                @if (
                    contactInfoForm.get('phone2')?.errors?.['minlength'] || 
                    contactInfoForm.get('phone2')?.errors?.['maxlength']
                ) {
                    <em>The phone number has to be 10 digits long</em>
                }
            </div>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label class="label" nzFor="phone3TypeId">Τηλέφωνο 3:</nz-form-label>
        <nz-form-control>
            <div class="radio-container">
                <nz-radio-group 
                    id="phone3TypeId" 
                    nzButtonStyle="solid"
                    formControlName="phone3TypeId"
                >
                    @for (phoneType of phoneTypes; track phoneType.id) {
                        <label class="button" nz-radio-button [nzValue]="phoneType.id">{{ phoneType.name }}</label>                
                    }
                </nz-radio-group>

                @if (contactInfoForm.get('phone3TypeId')?.value === 4) {
                    <input
                        class="inputs"
                        nz-input
                        id="phone3Label" 
                        type="text"  
                        formControlName="phone3Label"
                    />
                }

                @if (contactInfoForm.get('phone3TypeId')?.value === 2) {
                    <input 
                        class="inputs" 
                        nz-input 
                        id="phone3" 
                        [maskito]="phone2Mask"
                        type="text" 
                        [class.error]="contactInfoForm.get('phone3')?.invalid"
                        formControlName="phone3"
                    />                                            
                } @else {
                    <input 
                        class="inputs" 
                        nz-input 
                        id="phone3" 
                        [maskito]="phoneMask"
                        type="text" 
                        [class.error]="contactInfoForm.get('phone3')?.invalid"
                        formControlName="phone3"
                    />                                            
                }   
                @if (
                    contactInfoForm.get('phone3')?.errors?.['minlength'] || 
                    contactInfoForm.get('phone3')?.errors?.['maxlength']
                ) {
                    <em>The phone number has to be 10 digits long</em>
                }           
            </div>
        </nz-form-control>
    </nz-form-item>
    <nz-form-item>
        <nz-form-label class="label" nzFor="addressTypeId">Διεύθυνση:</nz-form-label>
        <nz-form-control>
            <div class="radio-container">
                <nz-radio-group 
                    id="addressTypeId" 
                    nzButtonStyle="solid"
                    formControlName="addressTypeId"
                >
                    @for(addressType of addressTypes; track addressType.id){
                        <label class="button" nz-radio-button [nzValue]="addressType.id">{{addressType.name}}</label>    
                    }
                </nz-radio-group>

                @if (contactInfoForm.get('addressTypeId')?.value === 4) {
                    <input
                        class="inputs"
                        nz-input
                        id="addressLabel" 
                        type="text" 
                        formControlName="addressLabel"
                    />
                }

                <input 
                    class="inputs" 
                    nz-input 
                    id="address" 
                    type="text" 
                    formControlName="address"
                />                
            </div>
        </nz-form-control>
    </nz-form-item>                        
    <nz-form-item>
        <nz-form-label class="label" nzFor="email">Email:</nz-form-label>
        <nz-form-control>
            <input 
                class="inputs" 
                nz-input 
                id="email" 
                type="text" 
                formControlName="email"
            />
        </nz-form-control>
    </nz-form-item>
    </div>

    <nz-divider></nz-divider>

    <div class="footer-btns">
        <button class="button" nz-button nzType="default" type="button" (click)="closeDrawer()">Ακύρωση</button>
        <button class="button" nz-button nzType="primary" type="submit">Καταχώρηση</button>
    </div>
</form>